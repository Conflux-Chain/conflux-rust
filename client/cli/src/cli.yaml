name: conflux-cli
about: Conflux CLI.
author: The Conflux Team

args:
  - url:
      help: URL of RPC server
      long: url
      takes_value: true
      default_value: http://localhost:12537
      global: true
subcommands:
  - price:
      about: Get recent mean gas price
      args:
        - rpc-method:
            default_value: cfx_gasPrice
            hidden: true
  - epoch:
      about: Get epoch number
      args:
        - rpc-method:
            default_value: cfx_epochNumber
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: epoch
            hidden: true
        - epoch:
            help: Epoch
            long: epoch
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
  - balance:
      about: Get balance of specified account
      args:
        - rpc-method:
            default_value: cfx_getBalance
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: address,epoch
            hidden: true
        - address:
            help: Account address
            long: address
            required: true
            takes_value: true
        - epoch:
            help: Epoch
            long: epoch
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
  - code:
      about: Get bytecode of specified contract
      args:
        - rpc-method:
            default_value: cfx_getCode
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: address,epoch
            hidden: true
        - address:
            help: Contract address
            long: address
            required: true
            takes_value: true
        - epoch:
            help: Epoch
            long: epoch
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
  - block-by-hash:
      about: Get block by hash
      args:
        - rpc-method:
            default_value: cfx_getBlockByHash
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: hash,include-txs:bool
            hidden: true
        - hash:
            help: Block hash
            long: hash
            required: true
            takes_value: true
        - include-txs:
            help: Whether to return detailed transactions in block
            long: include-txs
  - assume-block:
      about: Get block by hash with pivot chain assumption
      args:
        - rpc-method:
            default_value: cfx_getBlockByHashWithPivotAssumption
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: block-hash,pivot-hash,epoch-number:u64
            hidden: true
        - block-hash:
            help: Block hash
            long: block-hash
            required: true
            takes_value: true
            value_name: HASH
        - pivot-hash:
            help: Pivot block hash
            long: pivot-hash
            required: true
            takes_value: true
            value_name: HASH
        - epoch-number:
            help: Epoch number
            long: epoch-number
            required: true
            takes_value: true
            value_name: NUMBER
  - block-by-epoch:
      about: Get block by epoch
      args:
        - rpc-method:
            default_value: cfx_getBlockByEpochNumber
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: epoch,include-txs:bool
            hidden: true
        - epoch:
            help: Epoch
            long: epoch
            required: true
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
        - include-txs:
            help: Whether to return detailed transactions in block
            long: include-txs
  - best-block-hash:
      about: Get the best block hash
      args:
        - rpc-method:
            default_value: cfx_getBestBlockHash
            hidden: true
  - nonce:
      about: Get nonce of specified account
      args:
        - rpc-method:
            default_value: cfx_getTransactionCount
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: address,epoch
            hidden: true
        - address:
            help: Account address
            long: address
            required: true
            takes_value: true
        - epoch:
            help: Epoch
            long: epoch
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
  - send:
      about: Send a signed transaction and return its hash
      args:
        - rpc-method:
            default_value: cfx_sendRawTransaction
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: raw-bytes
            hidden: true
        - raw-bytes:
            help: Signed transaction data
            long: raw-bytes
            required: true
            takes_value: true
            value_name: HEX
  - tx:
      about: Get transaction by hash
      args:
        - rpc-method:
            default_value: cfx_getTransactionByHash
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: hash
            hidden: true
        - hash:
            help: Transaction hash
            long: hash
            required: true
            takes_value: true
  - blocks:
      about: Get blocks of specified epoch
      args:
        - rpc-method:
            default_value: cfx_getBlocksByEpoch
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: epoch
            hidden: true
        - epoch:
            help: Epoch
            long: epoch
            required: true
            takes_value: true
            possible_values: [latest_mined, latest_state, earliest]
  - receipt:
      about: Get receipt by transaction hash
      args:
        - rpc-method:
            default_value: cfx_getTransactionReceipt
            hidden: true
        - rpc-args:
            multiple: true
            use_delimiter: true
            default_value: hash
            hidden: true
        - hash:
            help: Transaction hash
            long: hash
            required: true
            takes_value: true